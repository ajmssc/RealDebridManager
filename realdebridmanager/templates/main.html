<!doctype html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>
{% with active='home' %}
    {% include 'toolbar.html' %}
{% endwith %}

<div class="container-md">
    <div class="mb-3">
        <a href="/tasks/deletecompleted" button type="button" class="btn btn-danger mx-2">Delete Completed</a>
        <a href="/tasks/deleteall" button type="button" class="btn btn-danger mx-2">Delete All</a>
    </div>
</div>
<div class="container-md">
    <div class="mb-3">
        <table border=1 class="table">


            <thead>
            <td>FileName</td>
            <td>Task Type</td>
            <td>Action</td>
            <td>RD Progress %</td>
            <td>RD Attempts</td>
            <td>Error</td>
            <td>Completed</td>
            <td>Options</td>
            </thead>

            {% for row in tasks %}
                <tr>
                    <td>{{ row["filename"] }}</td>
                    <td>{{ row["task_type"] }}</td>
                    <td> {{ row["rdstatus"] }}</td>
                    <td>{{ row['rdprogressdownload'] }}%</td>
                    <td>{{ row['attemptstogetlink'] }}</td>
                    <td>{{ row['rderror'] }}</td>
                    <td>{{ row['completed'] }}</td>
                    <td>
                        <a href="/tasks/{{ row.id }}" button type="button" class="btn btn-primary mx-2">Info</a>
                        <a href="/tasks/delete/{{ row.id }}" button type="button"
                           class="btn btn-danger mx-2">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
</div>

</body>
</html>